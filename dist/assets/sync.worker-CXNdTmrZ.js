const n=new Map;function o(e){return e==null?"":String(e)}function c(e,t=1e3){const r=Number(e);return Number.isFinite(r)?Math.max(1,Math.floor(r)):t}function l(e,t){if(!e)return;i(e);const r=c(t),s=setInterval(()=>{try{self.postMessage({type:"TICK",id:e})}catch{}},r);n.set(e,s)}function i(e){const t=n.get(e);t!==void 0&&(clearInterval(t),n.delete(e))}function R(){for(const[,e]of n.entries())clearInterval(e);n.clear()}self.onmessage=e=>{const t=e&&e.data?e.data:{},r=t.command;try{switch(r){case"START_TIMER":{const s=o(t.id),a=c(t.interval);l(s,a);break}case"STOP_TIMER":{const s=o(t.id);i(s);break}case"STOP_ALL":{R();break}case"INIT_INSTANCE":break;default:break}}catch(s){try{const a=s;self.postMessage({type:"WORKER_ERROR",scope:"sync",command:r,error:a?.message??String(s),stack:a?.stack})}catch{}}};self.addEventListener("error",e=>{try{self.postMessage({type:"WORKER_ERROR",scope:"sync",command:"WORKER_ERROR",error:e?.message??"Worker error"})}catch{}});self.addEventListener("unhandledrejection",e=>{try{const t=e?.reason;self.postMessage({type:"WORKER_ERROR",scope:"sync",command:"UNHANDLED_REJECTION",error:t?.message??String(t)})}catch{}});self.addEventListener("messageerror",()=>{try{self.postMessage({type:"WORKER_ERROR",scope:"sync",command:"MESSAGE_ERROR",error:"Message deserialization failed"})}catch{}});
//# sourceMappingURL=sync.worker-CXNdTmrZ.js.map
